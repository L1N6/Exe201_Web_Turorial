@using EXE201_Tutor_Web.Entities
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">

<style>
    .ellipse {
        position: relative;
        width: calc(24 * var(--rpx));
        height: calc(24 * var(--rpx));
        margin: calc(30 * var(--rpx)) 0 0 calc(229 * var(--rpx));
        background: url(../img/home/Ellipse.png) no-repeat center;
        background-size: cover;
        z-index: 23;
        border-radius: 50%;
    }

    .vector,
    .rectangle-7,
    .vector-8,
    .vector-9,
    .ellipse-a,
    .bombastic-learning-hub-b,
    .rectangle-c,
    .get-start,
    .group,
    .group-d {
        position: absolute;
        z-index: 19; /* Đảm bảo tất cả các phần tử đều có z-index giống nhau */
    }

    .vector {
        width: calc(113 * var(--rpx));
        height: calc(51 * var(--rpx));
        top: calc(835 * var(--rpx));    
        left: calc(127 * var(--rpx));
        background: url(../img/home/Vector.png) no-repeat center;
        background-size: cover;
    }

    .rectangle-7 {
        width: calc(452 * var(--rpx));
        height: calc(505 * var(--rpx));
        top: calc(848 * var(--rpx));
        left: calc(899 * var(--rpx));
        background: url(./assets/images/d30fd2a4b1ef5feae78a8416ffd596de3324df12.png) no-repeat center;
        background-size: cover;
    }

    .vector-8 {
        width: calc(465.67108154296875 * var(--rpx));
        height: calc(21.333343505859375 * var(--rpx));
        top: calc(874.3177032470703 * var(--rpx) );
        left: calc(2.99554443359375 * var(--rpx));
        background: url(./assets/images/d30fd2a4b1ef5feae78a8416ffd596de3324df12.png) no-repeat center;
        background-size: cover;
    }

    .vector-9 {
        width: calc(80 * var(--rpx));
        height: calc(47 * var(--rpx));
        top: calc(886 * var(--rpx));
        left: calc(251 * var(--rpx));
        background: url(../img/home/Vector_9.png) no-repeat center;
        background-size: cover;
    }

    .ellipse-a {
        width: calc(24 * var(--rpx));
        height: calc(24 * var(--rpx));
        top: calc(919 * var(--rpx));
        left: calc(327 * var(--rpx));
        background: url(../img/home/Ellipse_a.png) no-repeat center;
        background-size: cover;
        border-radius: 50%;
    }

    .bombastic-learning-hub-b {
        height: calc(102 * var(--rpx));
        top: calc(949 * var(--rpx));
        left: calc(78 * var(--rpx));
        color: #1700a7;
        font-family: Paytone One, var(--default-font-family);
        font-size: calc(96 * var(--rpx));
        font-weight: 400;
        line-height: calc(102 * var(--rpx));
        text-align: left;
        white-space: nowrap;
    }

    .rectangle-c {
        width: calc(496 * var(--rpx));
        height: calc(106 * var(--rpx));
        top: calc(1247 * var(--rpx));
        left: calc(78 * var(--rpx));
        cursor: pointer;
        background: #614ce0;
        border: none;
        border-radius: calc(10 * var(--rpx));
    }

    .get-start {
        width: calc(305 * var(--rpx));
        height: calc(50 * var(--rpx));
        top: calc(28 * var(--rpx));
        left: calc(95 * var(--rpx));
        color: #ffffff;
        font-family: Inter, var(--default-font-family);
        font-size: calc(40 * var(--rpx));
        font-weight: 800;
        line-height: calc(48.409088134765625 * var(--rpx));
        text-align: center;
        white-space: nowrap;
    }

    .group {
        width: calc(738 * var(--rpx));
        height: calc(82 * var(--rpx));
        top: calc(1404 * var(--rpx));
        left: calc(3 * var(--rpx));
        background: url(./assets/images/b59ae848-bf90-46c2-9ea3-6f5bd19c2c72.png) no-repeat center;
        background-size: cover;
    }

    .group-d {
        width: calc(247 * var(--rpx));
        height: calc(43 * var(--rpx));
        top: calc(1427 * var(--rpx));
        left: calc(1002 * var(--rpx));
        background: url(../img/home/Group_1.png) no-repeat center;
        background-size: cover;
    }

    .main-container {
        position: relative;
        height: calc(2000 * var(--rpx));
        margin: 0 auto;
        background: #ffffff;
    }

    .carousel-container {
        position: relative;
        overflow: hidden;
        width: 100%; /* Sử dụng 100% cho chiều rộng của carousel-container */
    }

    .carousel {
        display: flex;
        transition: transform 0.5s ease-in-out;
        width: calc(100vm * var(--rpx) * 3); /* Chiều rộng của carousel bằng 100vw nhân với số lượng slide */
    }


    .slide {
        position: relative;
        flex: 0 0 100vw; /* Thay đổi từ 100% thành 100vw */
        width: 100vw; /* Sử dụng 100vw cho kích thước chiều rộng */
        height: calc(500 * var(--rpx)); /* Giữ nguyên kích thước chiều cao */
        opacity: 1;
        transition: transform 0.5s ease, opacity 0.5s ease;
    }

        .slide img {
            width: 100%; /* Đảm bảo rằng hình ảnh sẽ fill với độ rộng của slide */
            height: 100%; /* Đảm bảo rằng hình ảnh sẽ fill với độ dài của slide */
            object-fit: cover; /* Căn chỉnh hình ảnh để fill hoàn toàn với kích thước của slide */
        }


        .slide.hidden {
            opacity: 0;
            transform: translateY(50px);
        }

    .carousel-controls {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 100%;
        display: flex;
        justify-content: space-between;
    }

        .carousel-controls button {
            background-color: rgba(255, 255, 255, 0.5);
            border: none;
            color: #555;
            cursor: pointer;
            font-size: 24px;
            padding: 10px 20px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

            .carousel-controls button:hover {
                background-color: rgba(255, 255, 255, 0.9);
            }

    .carousel-indicators {
        display: flex;
        justify-content: center;
        margin-top: 10px;
    }

    .indicator {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background-color: gray;
        margin: 0 5px;
        cursor: pointer;
    }

    #quote-carousel {
        padding: 0 calc(10 * var(--rpx)) calc(30 * var(--rpx)) calc(10 * var(--rpx));
        margin-top: calc(60 * var(--rpx));
    }

        #quote-carousel .carousel-control {
            background: none;
            color: #614ce0;
            font-size: 2.3em;
            text-shadow: none;
            margin-top: calc(30 * var(--rpx));
        }

        #quote-carousel .carousel-indicators {
            position: absolute;
            right: 50%;
            top: calc(150 * var(--rpx));    
            bottom: 0px;
            margin-top: 20px;
            margin-right: -19px;
        }

            #quote-carousel .carousel-indicators li {
                width: calc(50 * var(--rpx));
                height: calc(50 * var(--rpx));
                cursor: pointer;
                border: 2px solid rgba(0, 0, 0, 0.1);
                box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
                border-radius: 50%;
                opacity: 0.4;
                overflow: hidden;
                transition: all .4s ease-in;
                vertical-align: middle;
            }

            #quote-carousel .carousel-indicators .active {
                width: calc(128 * var(--rpx));
                height: calc(128 * var(--rpx));
                opacity: 1;
                transition: all .2s;
            }

    .item blockquote {
        border-left: none;
        margin: 0;
    }

        .item blockquote p:before {
            content: "\f10d";
            font-family: 'Fontawesome';
            float: left;
            margin-right: calc(10 * var(--rpx));
            
        }

    .customer-review {
        position: absolute;
        top: calc(1500 * var(--rpx));
        width: 100%;
        height: calc(400 * var(--rpx));
        background-color: #cdd8ff;
    }

    .img-responsive{
        width:100%;
        height:100%;
    }

    a, a:hover{
        text-decoration:none;
    }

</style>
@{
    List<Feedback> feedbacks = new List<Feedback>();

    if (TempData.ContainsKey("listFeedBack"))
    {
        feedbacks = TempData["listFeedBack"] as List<Feedback>;
    }
}
<div class="carousel-container">
    <div class="carousel">
        <a href="https://moji.vn/dung-cu-hoc-tap-pc158152.html" target="_blank" class="slide">
            <img src="~/img/header/moji_adv.jpg" alt="Slide 1">
        </a>
        <a class="slide">
            <img src="~/img/header/BTS-website-banner-1.png" alt="Slide 2">
        </a>
        <a class="slide">
            <img src="~/img/header/Banner_back_to_school.png" alt="Slide 3">
        </a>
    </div>
    <div class="carousel-controls">
        <button onclick="prevSlide()">❮</button>
        <button onclick="nextSlide()">❯</button>
    </div>
    <div class="carousel-indicators">
        <div class="indicator active"></div>
        <div class="indicator"></div>
        <div class="indicator"></div>
    </div>
</div>
<div class="ellipse"></div>
<div class="vector"></div>
<div class="rectangle-7">
    <img src="../img/header/grammar correction-amico (1).png" />
</div>
<div class="vector-8">
    <svg class="vector-1" width="466" height="22" viewBox="0 0 466 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M444.333 11.0082C444.346 16.8992 449.133 21.6642 455.024 21.651C460.915 21.6379 465.68 16.8516 465.667 10.9606C465.653 5.06954 460.867 0.304585 454.976 0.317735C449.085 0.330884 444.32 5.11716 444.333 11.0082ZM0.00446427 14L455.004 12.9844L454.995 8.98438L-0.00446427 10L0.00446427 14Z" fill="#AEC3FA" />
    </svg>
</div>
<div class="vector-9"></div>
<div class="ellipse-a"></div>
<span class="bombastic-learning-hub-b">BOMBASTIC <br /> LEARNING HUB </span>
<form asp-action="Index" asp-controller="Course">
    <button type="submit" class="rectangle-c">
        <span class="get-start">Get Start </span>
    </button>
</form>
<div class="group">
    <svg class="group-2" width="100%" height="100%" viewBox="0 0 738 82" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 28L717 30.0843" stroke="#E3E9FF" stroke-width="4" />
        <circle cx="722.5" cy="29.5" r="11.5" fill="white" stroke="#E3E9FF" stroke-width="8" />
        <path d="M235 82H233V84H235V82ZM444.333 82C444.333 87.891 449.109 92.6667 455 92.6667C460.891 92.6667 465.667 87.891 465.667 82C465.667 76.109 460.891 71.3333 455 71.3333C449.109 71.3333 444.333 76.109 444.333 82ZM233 28V82H237V28H233ZM235 84H455V80H235V84Z" fill="#E3E9FF" />
        <path d="M115 0V-2H113V0H115ZM247.333 0C247.333 5.89104 252.109 10.6667 258 10.6667C263.891 10.6667 268.667 5.89104 268.667 0C268.667 -5.89104 263.891 -10.6667 258 -10.6667C252.109 -10.6667 247.333 -5.89104 247.333 0ZM117 28V0H113V28H117ZM115 2H258V-2H115V2Z" fill="#E3E9FF" />
    </svg>
</div>
<div class="group-d"></div>
<div class="customer-review">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="carousel" data-ride="carousel" id="quote-carousel">
                    <!-- Carousel Slides/Quotes -->
                    <div class="carousel-inner text-center">
                        <!-- Quote 1 -->
                        @foreach (var item in feedbacks)
                        {
                            if (item.Equals(feedbacks.First()))
                            {
                                <div class="item active">
                                    <blockquote>
                                        <div class="row">
                                            <div class="col-sm-8 col-sm-offset-2">
                                                <p>
                                                    @item.Review
                                                </p>
                                                <small>@item.Student.Name</small>
                                            </div>
                                        </div>
                                    </blockquote>
                                </div>
                            }else{
                                <div class="item">
                                    <blockquote>
                                        <div class="row">
                                            <div class="col-sm-8 col-sm-offset-2">
                                                <p>
                                                    @item.Review
                                                </p>
                                                <small>@item.Student.Name</small>
                                            </div>
                                        </div>
                                    </blockquote>
                                </div>
                            }
                        }
                    </div>
                    <!-- Bottom Carousel Indicators -->
                    <ol class="carousel-indicators">
                        @{
                            int index = 0;
                        }
                        @foreach (var item in feedbacks)
                        {
                            if (item.Equals(feedbacks.First()))
                            {
                                <li data-target="#quote-carousel" data-slide-to="@(index++)" class="active">
                                    <img class="img-responsive" src="~/img/student/@item.Student.Avatar" alt="">
                                </li>
                            }else{
                                <li data-target="#quote-carousel" data-slide-to="@(index++)">
                                    <img class="img-responsive" src="~/img/student/@item.Student.Avatar" alt="">
                                </li>
                            }
                        }
                    </ol>

                    <!-- Carousel Buttons Next/Prev -->
                    <a data-slide="prev" href="#quote-carousel" class="left carousel-control">
                        <i class="fa fa-chevron-left" style="margin-top:35%"></i>
                    </a>
                    <a data-slide="next" href="#quote-carousel" class="right carousel-control">
                        <i class="fa fa-chevron-right" style="margin-top:35%"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const carousel = document.querySelector('.carousel');
        const slides = document.querySelectorAll('.slide');
        let counter = 0;
        let slideWidth;

        // Hàm tính toán kích thước của slide
        function calculateSlideWidth() {
            slideWidth = slides[0].getBoundingClientRect().width;
        }

        // Gọi hàm tính toán kích thước slide sau khi các ảnh đã được tải xong
        window.addEventListener('load', calculateSlideWidth);

        // Cập nhật kích thước của slide khi cửa sổ thay đổi kích thước
        window.addEventListener('resize', calculateSlideWidth);

        // Hàm chuyển slide tiếp theo
        function nextSlide() {
            if (!isTransitioning) {
                isTransitioning = true;
                counter = (counter + 1) % slides.length;
                updateCarousel();
            }
        }

        // Hàm chuyển slide trước đó
        function prevSlide() {
            if (!isTransitioning) {
                isTransitioning = true;
                counter = (counter - 1 + slides.length) % slides.length;
                updateCarousel();
            }
        }

        // Hàm chuyển đến slide được chỉ định
        function goToSlide(index) {
            if (!isTransitioning && index >= 0 && index < slides.length) {
                isTransitioning = true;
                counter = index;
                updateCarousel();
            }
        }

        // Hàm cập nhật carousel
        function updateCarousel() {
            carousel.style.transition = 'transform 0.5s ease-in-out';
            carousel.style.transform = `translateX(${-slideWidth * counter}px)`;
            setTimeout(() => {
                isTransitioning = false;
            }, 500);
            updateIndicators();
        }

        // Hàm cập nhật chỉ báo
        function updateIndicators() {
            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === counter);
            });
        }

        // Thêm sự kiện click cho nút previous
        const prevButton = document.querySelector('.carousel-controls button:first-child');
        prevButton.addEventListener('click', prevSlide);

        // Thêm sự kiện click cho nút next
        const nextButton = document.querySelector('.carousel-controls button:last-child');
        nextButton.addEventListener('click', nextSlide);

        // Thêm sự kiện click cho các chỉ báo
        const indicators = document.querySelectorAll('.indicator');
        indicators.forEach((indicator, index) => {
            indicator.addEventListener('click', () => {
                goToSlide(index);
            });
        });

        // Cài đặt biến isTransitioning để kiểm tra trạng thái hiệu ứng chuyển đổi
        let isTransitioning = false;

        // Tự động chuyển slide sau một khoảng thời gian
        setInterval(nextSlide, 5000);
    });

    //------------------------slider2
</script>