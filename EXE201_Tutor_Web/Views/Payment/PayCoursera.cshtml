@{
    int id = 1; // Khai báo ở ngoài phạm vi của block if và else
    string errorMessage = "";
    if (TempData.ContainsKey("ErrorMessage"))
    {
        errorMessage = TempData["ErrorMessage"].ToString();
    }
    if (TempData.ContainsKey("CourseraId"))
    {
        string courseraId = TempData["CourseraId"].ToString();
        id = Int32.Parse(TempData["CourseraId"].ToString());
    }
    else
    {
        var action = "Index";
        var controller = "Course";
        var url = Url.Action(action, controller);
        <script type="text/javascript">
            window.location.href = '@url';
        </script>
    }
}
<div class="container">
    <h3>Chọn phương thức thanh toán</h3>
    <div id="txtserverkt" name="txtserverkt"> </div>

    <form method="post">
        <div class="alert alert-warning" role="alert">
            Lưu ý: Bạn cần đăng ký Internet-Banking hoặc dịch vụ thanh toán trực tuyến tại ngân hàng trước khi thực hiện.
            <p class="text-danger">@errorMessage</p>
        </div>
        <div class="card">
            <div class="card-body">
                <input type="hidden" readonly value="@id" name="courseraId" />
                <h5 class="card-title">Thanh toán online bằng thẻ ngân hàng nội địa</h5>
                <ul class="list-group mb-3">
                    <li class="list-group-item">
                        <input type="radio" value="EXB" id="exb_ck_on" name="bankcode" />
                        <span class="bank-logo" style="background-color: #007bff;"></span>Ngân hàng thương mại cổ phần Xuất Nhập khẩu Việt Nam
                    </li>
                </ul>

                
            </div>
        </div>

        <div class="container mb-3">
            <h4 class="text-danger">Lưu ý</h4>
            <p>Bạn nhập đầy đủ thông tin sau:</p>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="buyer_fullname">Họ Tên:</label>
                        <input type="text" class="form-control" id="buyer_fullname" name="buyer_fullname" placeholder="Nhập họ tên">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="buyer_email">Email:</label>
                        <input type="email" class="form-control" id="buyer_email" name="buyer_email" placeholder="Nhập email">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="buyer_mobile">Số Điện thoại:</label>
                        <input type="tel" class="form-control" id="buyer_mobile" name="buyer_mobile" placeholder="Nhập số điện thoại">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6 ">
                    <button type="submit" class="btn btn-primary" >Thanh toán</button>
                </div>
            </div>
        </div>

    </form>
</div>